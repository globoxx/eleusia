{"ast":null,"code":"import*as React from'react';import Grid from'@mui/material/Grid';import List from'@mui/material/List';import Card from'@mui/material/Card';import CardHeader from'@mui/material/CardHeader';import ListItemText from'@mui/material/ListItemText';import ListItemIcon from'@mui/material/ListItemIcon';import Checkbox from'@mui/material/Checkbox';import Button from'@mui/material/Button';import Divider from'@mui/material/Divider';import{ListItemButton}from'@mui/material';import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function not(a,b){return a.filter(value=>b.indexOf(value)===-1);}function intersection(a,b){return a.filter(value=>b.indexOf(value)!==-1);}function union(a,b){return[...a,...not(b,a)];}function TransferImage(_ref){let{visible,imagesList,callback}=_ref;const[checked,setChecked]=useState([]);const[left,setLeft]=useState(imagesList);const[right,setRight]=useState([]);const leftChecked=intersection(checked,left);const rightChecked=intersection(checked,right);const handleToggle=value=>()=>{const currentIndex=checked.indexOf(value);const newChecked=[...checked];if(currentIndex===-1){newChecked.push(value);}else{newChecked.splice(currentIndex,1);}setChecked(newChecked);};const numberOfChecked=items=>intersection(checked,items).length;const handleToggleAll=items=>()=>{if(numberOfChecked(items)===items.length){setChecked(not(checked,items));}else{setChecked(union(checked,items));}};const handleCheckedRight=()=>{setRight(right.concat(leftChecked));setLeft(not(left,leftChecked));setChecked(not(checked,leftChecked));};const handleCheckedLeft=()=>{setLeft(left.concat(rightChecked));setRight(not(right,rightChecked));setChecked(not(checked,rightChecked));};useEffect(()=>{callback(left,right);},[callback,left,right]);const customList=(title,items)=>/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{sx:{px:2,py:1},avatar:/*#__PURE__*/_jsx(Checkbox,{onClick:handleToggleAll(items),checked:numberOfChecked(items)===items.length&&items.length!==0,indeterminate:numberOfChecked(items)!==items.length&&numberOfChecked(items)!==0,disabled:items.length===0,inputProps:{'aria-label':'all items selected'}}),title:title,subheader:\"\".concat(numberOfChecked(items),\"/\").concat(items.length)}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(List,{sx:{height:400,bgcolor:'background.paper',overflow:'auto'},dense:true,component:\"div\",role:\"list\",children:items.map(value=>{const labelId=\"transfer-list-all-item-\".concat(value,\"-label\");return/*#__PURE__*/_jsxs(ListItemButton,{role:\"listitem\",onClick:handleToggle(value),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(Checkbox,{checked:checked.indexOf(value)!==-1,tabIndex:-1,disableRipple:true,inputProps:{'aria-labelledby':labelId}})}),/*#__PURE__*/_jsx(ListItemText,{id:labelId,primary:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(value,\"?w=50&fit=crop&auto=format\"),srcSet:\"\".concat(value,\"?w=50&fit=crop&auto=format&dpr=2 2x\"),alt:value,loading:\"lazy\",height:\"100\"})})]},value);})})]});return/*#__PURE__*/_jsx(_Fragment,{children:visible&&/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,justifyContent:\"center\",flexWrap:\"nowrap\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,flexGrow:\"1\",children:customList('Refusées',left)}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Button,{sx:{my:0.5},variant:\"outlined\",size:\"small\",onClick:handleCheckedRight,disabled:leftChecked.length===0,\"aria-label\":\"move selected right\",children:\">\"}),/*#__PURE__*/_jsx(Button,{sx:{my:0.5},variant:\"outlined\",size:\"small\",onClick:handleCheckedLeft,disabled:rightChecked.length===0,\"aria-label\":\"move selected left\",children:\"<\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,flexGrow:\"1\",children:customList('Acceptées',right)})]})});}export default TransferImage;","map":{"version":3,"names":["React","Grid","List","Card","CardHeader","ListItemText","ListItemIcon","Checkbox","Button","Divider","ListItemButton","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","not","a","b","filter","value","indexOf","intersection","union","TransferImage","_ref","visible","imagesList","callback","checked","setChecked","left","setLeft","right","setRight","leftChecked","rightChecked","handleToggle","currentIndex","newChecked","push","splice","numberOfChecked","items","length","handleToggleAll","handleCheckedRight","concat","handleCheckedLeft","customList","title","children","sx","px","py","avatar","onClick","indeterminate","disabled","inputProps","subheader","height","bgcolor","overflow","dense","component","role","map","labelId","tabIndex","disableRipple","id","primary","src","srcSet","alt","loading","container","spacing","justifyContent","flexWrap","alignItems","item","flexGrow","direction","my","variant","size"],"sources":["C:/Users/vince/OneDrive/Documents/GitHub/eleusia/src/components/TransferImage.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport Grid from '@mui/material/Grid'\r\nimport List from '@mui/material/List'\r\nimport Card from '@mui/material/Card'\r\nimport CardHeader from '@mui/material/CardHeader'\r\nimport ListItemText from '@mui/material/ListItemText'\r\nimport ListItemIcon from '@mui/material/ListItemIcon'\r\nimport Checkbox from '@mui/material/Checkbox'\r\nimport Button from '@mui/material/Button'\r\nimport Divider from '@mui/material/Divider'\r\nimport { ListItemButton } from '@mui/material'\r\nimport { useEffect, useState } from 'react'\r\n\r\nfunction not(a: readonly string[], b: readonly string[]) {\r\n  return a.filter((value) => b.indexOf(value) === -1)\r\n}\r\n\r\nfunction intersection(a: readonly string[], b: readonly string[]) {\r\n  return a.filter((value) => b.indexOf(value) !== -1)\r\n}\r\n\r\nfunction union(a: readonly string[], b: readonly string[]) {\r\n  return [...a, ...not(b, a)]\r\n}\r\n\r\nfunction TransferImage({visible, imagesList, callback}: {visible: boolean, imagesList: string[], callback: any}) {\r\n  const [checked, setChecked] = useState<readonly string[]>([])\r\n  const [left, setLeft] = useState<readonly string[]>(imagesList)\r\n  const [right, setRight] = useState<readonly string[]>([])\r\n\r\n  const leftChecked = intersection(checked, left)\r\n  const rightChecked = intersection(checked, right)\r\n\r\n  const handleToggle = (value: string) => () => {\r\n    const currentIndex = checked.indexOf(value)\r\n    const newChecked = [...checked]\r\n\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value)\r\n    } else {\r\n      newChecked.splice(currentIndex, 1)\r\n    }\r\n\r\n    setChecked(newChecked)\r\n  };\r\n\r\n  const numberOfChecked = (items: readonly string[]) =>\r\n    intersection(checked, items).length\r\n\r\n  const handleToggleAll = (items: readonly string[]) => () => {\r\n    if (numberOfChecked(items) === items.length) {\r\n      setChecked(not(checked, items));\r\n    } else {\r\n      setChecked(union(checked, items))\r\n    }\r\n  };\r\n\r\n  const handleCheckedRight = () => {\r\n    setRight(right.concat(leftChecked))\r\n    setLeft(not(left, leftChecked))\r\n    setChecked(not(checked, leftChecked))\r\n  };\r\n\r\n  const handleCheckedLeft = () => {\r\n    setLeft(left.concat(rightChecked))\r\n    setRight(not(right, rightChecked))\r\n    setChecked(not(checked, rightChecked))\r\n  };\r\n\r\n  useEffect(() => {\r\n    callback(left, right)\r\n  }, [callback, left, right])\r\n \r\n\r\n  const customList = (title: React.ReactNode, items: readonly string[]) => (\r\n    <Card>\r\n      <CardHeader\r\n        sx={{ px: 2, py: 1 }}\r\n        avatar={\r\n          <Checkbox\r\n            onClick={handleToggleAll(items)}\r\n            checked={numberOfChecked(items) === items.length && items.length !== 0}\r\n            indeterminate={\r\n              numberOfChecked(items) !== items.length && numberOfChecked(items) !== 0\r\n            }\r\n            disabled={items.length === 0}\r\n            inputProps={{\r\n              'aria-label': 'all items selected',\r\n            }}\r\n          />\r\n        }\r\n        title={title}\r\n        subheader={`${numberOfChecked(items)}/${items.length}`}\r\n      />\r\n      <Divider />\r\n      <List\r\n        sx={{\r\n          height: 400,\r\n          bgcolor: 'background.paper',\r\n          overflow: 'auto',\r\n        }}\r\n        dense\r\n        component=\"div\"\r\n        role=\"list\"\r\n      >\r\n        {items.map((value: string) => {\r\n          const labelId = `transfer-list-all-item-${value}-label`\r\n\r\n          return (\r\n            <ListItemButton\r\n              key={value}\r\n              role=\"listitem\"\r\n              onClick={handleToggle(value)}\r\n            >\r\n              <ListItemIcon>\r\n                <Checkbox\r\n                  checked={checked.indexOf(value) !== -1}\r\n                  tabIndex={-1}\r\n                  disableRipple\r\n                  inputProps={{\r\n                    'aria-labelledby': labelId,\r\n                  }}\r\n                />\r\n              </ListItemIcon>\r\n              <ListItemText id={labelId} primary={<img\r\n                                        src={`${value}?w=50&fit=crop&auto=format`}\r\n                                        srcSet={`${value}?w=50&fit=crop&auto=format&dpr=2 2x`}\r\n                                        alt={value}\r\n                                        loading=\"lazy\"\r\n                                        height=\"100\"\r\n                                    />} />\r\n            </ListItemButton>\r\n          );\r\n        })}\r\n      </List>\r\n    </Card>\r\n  );\r\n\r\n  return (\r\n    <>\r\n        {visible &&\r\n        <Grid container spacing={2} justifyContent=\"center\" flexWrap=\"nowrap\" alignItems=\"center\">\r\n            <Grid item flexGrow=\"1\">{customList('Refusées', left)}</Grid>\r\n            <Grid item>\r\n                <Grid container direction=\"column\" alignItems=\"center\">\r\n                <Button\r\n                    sx={{ my: 0.5 }}\r\n                    variant=\"outlined\"\r\n                    size=\"small\"\r\n                    onClick={handleCheckedRight}\r\n                    disabled={leftChecked.length === 0}\r\n                    aria-label=\"move selected right\"\r\n                >\r\n                    &gt;\r\n                </Button>\r\n                <Button\r\n                    sx={{ my: 0.5 }}\r\n                    variant=\"outlined\"\r\n                    size=\"small\"\r\n                    onClick={handleCheckedLeft}\r\n                    disabled={rightChecked.length === 0}\r\n                    aria-label=\"move selected left\"\r\n                >\r\n                    &lt;\r\n                </Button>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid item flexGrow=\"1\">{customList('Acceptées', right)}</Grid>\r\n        </Grid>\r\n        }\r\n    </>\r\n  );\r\n}\r\n\r\nexport default TransferImage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}