{"ast":null,"code":"import{Box,Grid,Paper,Slider,Stack,Typography}from'@mui/material';import Button from'@mui/material/Button';import{Image as MuiImage}from'mui-image';import React,{useState}from'react';import{useEffect}from'react';import ImagesContainer from'./ImagesContainer';import UsersTable from'./UsersTable';import PointsModal from'./Modals/PointsModal';import Timer from'./Timer';import EndOfGameModal from'./Modals/EndOfGameModal';import LogoutIcon from'@mui/icons-material/Logout';import PauseIcon from'@mui/icons-material/Pause';import PlayCircleFilledIcon from'@mui/icons-material/PlayCircleFilled';import MyModel from'./AIModel';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const minPlayers=1;const marks=[{value:-1,label:'Refuser'},{value:-0.5,label:'Plutôt refuser'},{value:0,label:'Aucune idée'},{value:0.5,label:'Plutôt accepter'},{value:1,label:'Accepter'}];async function initializeModel(){await MyModel.loadFeatureExtractor();MyModel.loadModel();}async function trainModel(images,labels){let imgs=await Promise.all(images.map(async image=>await createImageElement(image)));if(MyModel.model&&MyModel.featureExtractor){await MyModel.trainModel(imgs,labels);}else{throw new Error('Model or feature extractor not loaded');}}async function predictImage(image){let img=await createImageElement(image);if(MyModel.model&&MyModel.featureExtractor){return MyModel.predictImage(img);}else{throw new Error('Model or feature extractor not loaded');}}function createImageElement(imageUrl){return new Promise((resolve,reject)=>{let img=new Image();img.src=imageUrl;img.onload=()=>resolve(img);// Resolve the promise when the image is loaded\nimg.onerror=reject;// Reject the promise if there is an error\n});}function GameBoard(_ref){let{socket,pseudo,room,roomData,callbackLeaveRoom}=_ref;const[timer,setTimer]=useState(0);const[timerKey,setTimerKey]=useState(0);const[waitOnCreator,setWaitOnCreator]=useState(false);const[currentImage,setCurrentImage]=useState('');const[votingDisabled,setVotingDisabled]=useState(true);const[acceptedImages,setAcceptedImages]=useState([]);const[refusedImages,setRefusedImages]=useState([]);const[allImages,setAllImages]=useState([]);const[allLabels,setAllLabels]=useState([]);const[vote,setVote]=useState(0);const[isPointsModalOpen,setIsPointsModalOpen]=useState(false);const[modalPoints,setModalPoints]=useState(0);const isRoomCreator=roomData?pseudo===roomData.creator:false;const isAutoRun=roomData?roomData.autoRun:false;const handleClickStartGame=()=>{socket.emit('startGame',room);};const handleClickRevealRule=()=>{socket.emit('endGame',room);};const handleClickPause=()=>{socket.emit('pause',room);};const handleDecisionChange=(_event,newValue)=>{setVote(newValue);};const handleClickAccept=()=>handleClickVote(1);const handleClickRefuse=()=>handleClickVote(-1);const handleClickVote=vote=>{socket.emit('vote',room,pseudo,vote);setVotingDisabled(true);};const leaveRoom=()=>{socket.emit('leaveRoom',room,pseudo);callbackLeaveRoom();};useEffect(()=>{if(isRoomCreator&&roomData.hasAI){initializeModel().then(()=>console.log('Model initialized')).catch(error=>console.error('Error initializing model:',error));}},[isRoomCreator,roomData.hasAI]);useEffect(()=>{const onNewRound=async image=>{setCurrentImage(image);setAllImages(current=>[...current,image]);setVotingDisabled(false);setWaitOnCreator(false);setTimerKey(prevTimerKey=>prevTimerKey+1);if(isRoomCreator&&roomData.autoRun){const creatorVote=roomData.acceptedImages.includes(image)?1:-1;socket.emit('vote',room,pseudo,creatorVote);}if(isRoomCreator&&roomData.hasAI&&(acceptedImages.length>0||refusedImages.length>0)){let trainingImages=acceptedImages.concat(refusedImages);let trainingLabels=Array(acceptedImages.length).fill(1).concat(Array(refusedImages.length).fill(0));try{await trainModel(trainingImages,trainingLabels);console.log(\"The model is trained with \"+trainingImages.length+\" samples\");const prediction=await predictImage(image);console.log(\"The prediction is \"+prediction);let aiVote=(prediction[1]-0.5)*2;aiVote=Number(aiVote.toFixed(2));socket.emit('vote',room,\"Eleus-IA\",aiVote);}catch(error){console.error(\"Error training the model: \",error);}}};socket.on('newRound',onNewRound);return()=>{socket.off('newRound',onNewRound);};},[acceptedImages,isRoomCreator,pseudo,refusedImages,room,roomData.acceptedImages,roomData.autoRun,roomData.hasAI,socket]);useEffect(()=>{const onTimer=timer=>{if(!waitOnCreator){setTimer(timer);}};socket.on('timer',onTimer);return()=>{socket.off('timer',onTimer);};},[socket,waitOnCreator]);useEffect(()=>{const onWaitCreator=()=>{setWaitOnCreator(true);};socket.on('waitCreator',onWaitCreator);return()=>{socket.off('waitCreator',onWaitCreator);};},[socket]);useEffect(()=>{const onEndOfRound=(usersPoints,creatorVote)=>{let label;if(creatorVote>0){setAcceptedImages([...acceptedImages,currentImage]);label=\"Accepté\";}else{setRefusedImages([...refusedImages,currentImage]);label=\"Refusé\";}setCurrentImage('');setAllLabels(current=>[...current,label]);if(!isRoomCreator){setModalPoints(usersPoints[pseudo]);setIsPointsModalOpen(true);}};socket.on('endOfRound',onEndOfRound);return()=>{socket.off('endOfRound',onEndOfRound);};},[acceptedImages,currentImage,isRoomCreator,pseudo,refusedImages,socket]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Grid,{container:true,justifyContent:\"space-evenly\",alignContent:\"flex-start\",alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{item:true,textAlign:\"center\",xs:12,children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"error\",endIcon:/*#__PURE__*/_jsx(LogoutIcon,{}),onClick:leaveRoom,style:{position:\"absolute\",left:20},children:\"Quitter la partie\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h3\",children:[\"Room \",room]})]}),/*#__PURE__*/_jsxs(Grid,{container:true,item:true,textAlign:\"center\",xs:8,spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{container:true,item:true,justifyContent:\"space-evenly\",alignItems:\"center\",spacing:2,xs:12,children:[/*#__PURE__*/_jsxs(Grid,{item:true,textAlign:\"center\",xs:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Images refus\\xE9es par le ma\\xEEtre\"}),/*#__PURE__*/_jsx(Paper,{sx:{height:200},elevation:3,children:/*#__PURE__*/_jsx(ImagesContainer,{images:refusedImages,category:\"Refusé\"})})]}),/*#__PURE__*/_jsxs(Grid,{item:true,textAlign:\"center\",xs:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Images accept\\xE9es par le ma\\xEEtre\"}),/*#__PURE__*/_jsx(Paper,{sx:{height:200},elevation:3,children:/*#__PURE__*/_jsx(ImagesContainer,{images:acceptedImages,category:\"Accepté\"})})]})]}),/*#__PURE__*/_jsx(Grid,{container:true,item:true,alignItems:\"center\",justifyContent:\"center\",xs:12,children:/*#__PURE__*/_jsx(Box,{sx:{height:200},children:currentImage?/*#__PURE__*/_jsx(MuiImage,{src:currentImage,duration:1000,height:200}):null})}),/*#__PURE__*/_jsx(Grid,{container:true,item:true,textAlign:\"center\",alignItems:\"center\",xs:12,children:isRoomCreator?isAutoRun?/*#__PURE__*/_jsx(Grid,{item:true,textAlign:\"center\",xs:12,children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:roomData.hasStarted?\"Les labels sont déjà prêts !\":\"Vous n'avez plus qu'à démarrer la partie quand vous êtes prêt !\"})}):roomData.hasStarted&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Grid,{item:true,textAlign:\"center\",xs:6,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleClickRefuse,disabled:votingDisabled,children:\"Refuser\"})}),/*#__PURE__*/_jsx(Grid,{item:true,textAlign:\"center\",xs:6,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleClickAccept,disabled:votingDisabled,children:\"Accepter\"})})]}):roomData.hasStarted?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Grid,{item:true,textAlign:\"center\",xs:12,children:/*#__PURE__*/_jsx(Slider,{sx:{width:1/2},defaultValue:0,\"aria-label\":\"Default\",valueLabelDisplay:\"auto\",step:0.1,min:-1,max:1,marks:marks,onChange:handleDecisionChange})}),/*#__PURE__*/_jsx(Grid,{item:true,textAlign:\"center\",xs:12,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>handleClickVote(vote),disabled:votingDisabled||timer<=0,children:\"Confirmer\"})})]}):/*#__PURE__*/_jsx(Grid,{item:true,textAlign:\"center\",xs:12,children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"Le ma\\xEEtre du jeu n'a pas encore d\\xE9marr\\xE9 la partie !\"})})})]}),/*#__PURE__*/_jsx(Grid,{item:true,alignSelf:\"flex-start\",xs:4,children:/*#__PURE__*/_jsxs(Stack,{alignItems:\"center\",justifyContent:\"flex-start\",spacing:2,children:[/*#__PURE__*/_jsx(Timer,{roundDuration:roomData.roundDuration,isPlaying:roomData.hasStarted&&!roomData.hasFinished&&!roomData.paused},timerKey),!isRoomCreator&&/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:'Score: '+(roomData&&roomData.users[pseudo]?roomData.users[pseudo].totalScore:0)}),/*#__PURE__*/_jsx(Box,{sx:{border:1,m:5,marginBottom:2},children:roomData?/*#__PURE__*/_jsx(UsersTable,{roomData:roomData,pseudo:pseudo}):null}),isRoomCreator&&!roomData.hasStarted?/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleClickStartGame,disabled:Object.keys(roomData.users).length<minPlayers,children:\"D\\xE9marrer la partie\"}):null,isRoomCreator&&roomData.hasStarted&&!roomData.hasFinished?/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:2,children:[/*#__PURE__*/_jsx(Button,{startIcon:!roomData.paused?/*#__PURE__*/_jsx(PauseIcon,{}):/*#__PURE__*/_jsx(PlayCircleFilledIcon,{}),variant:\"outlined\",onClick:handleClickPause,children:!roomData.paused?\"Pause\":\"Reprendre\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"error\",onClick:handleClickRevealRule,children:\"R\\xE9v\\xE9ler la r\\xE8gle\"})]}):null]})})]}),!isRoomCreator&&/*#__PURE__*/_jsx(PointsModal,{open:isPointsModalOpen,handleClose:()=>setIsPointsModalOpen(false),points:modalPoints}),/*#__PURE__*/_jsx(EndOfGameModal,{open:roomData.hasFinished,rule:roomData.rule,users:roomData.users,pseudo:pseudo,creatorPseudo:roomData.creator,images:allImages,labels:allLabels})]});}export default GameBoard;","map":{"version":3,"names":["Box","Grid","Paper","Slider","Stack","Typography","Button","Image","MuiImage","React","useState","useEffect","ImagesContainer","UsersTable","PointsModal","Timer","EndOfGameModal","LogoutIcon","PauseIcon","PlayCircleFilledIcon","MyModel","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","minPlayers","marks","value","label","initializeModel","loadFeatureExtractor","loadModel","trainModel","images","labels","imgs","Promise","all","map","image","createImageElement","model","featureExtractor","Error","predictImage","img","imageUrl","resolve","reject","src","onload","onerror","GameBoard","_ref","socket","pseudo","room","roomData","callbackLeaveRoom","timer","setTimer","timerKey","setTimerKey","waitOnCreator","setWaitOnCreator","currentImage","setCurrentImage","votingDisabled","setVotingDisabled","acceptedImages","setAcceptedImages","refusedImages","setRefusedImages","allImages","setAllImages","allLabels","setAllLabels","vote","setVote","isPointsModalOpen","setIsPointsModalOpen","modalPoints","setModalPoints","isRoomCreator","creator","isAutoRun","autoRun","handleClickStartGame","emit","handleClickRevealRule","handleClickPause","handleDecisionChange","_event","newValue","handleClickAccept","handleClickVote","handleClickRefuse","leaveRoom","hasAI","then","console","log","catch","error","onNewRound","current","prevTimerKey","creatorVote","includes","length","trainingImages","concat","trainingLabels","Array","fill","prediction","aiVote","Number","toFixed","on","off","onTimer","onWaitCreator","onEndOfRound","usersPoints","children","container","justifyContent","alignContent","alignItems","spacing","item","textAlign","xs","variant","color","endIcon","onClick","style","position","left","sx","height","elevation","category","duration","hasStarted","disabled","width","defaultValue","valueLabelDisplay","step","min","max","onChange","alignSelf","roundDuration","isPlaying","hasFinished","paused","users","totalScore","border","m","marginBottom","Object","keys","direction","startIcon","open","handleClose","points","rule","creatorPseudo"],"sources":["C:/Users/vince/OneDrive/Documents/GitHub/eleusia/src/components/GameBoard.tsx"],"sourcesContent":["import { Box, Grid, Paper, Slider, Stack, Typography } from '@mui/material';\r\nimport Button from '@mui/material/Button';\r\nimport {Image as MuiImage} from 'mui-image';\r\nimport React, { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { Socket } from 'socket.io-client';\r\nimport { RoomData } from '../../server';\r\nimport ImagesContainer from './ImagesContainer';\r\nimport UsersTable from './UsersTable';\r\nimport PointsModal from './Modals/PointsModal';\r\nimport Timer from './Timer';\r\nimport EndOfGameModal from './Modals/EndOfGameModal';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport PauseIcon from '@mui/icons-material/Pause';\r\nimport PlayCircleFilledIcon from '@mui/icons-material/PlayCircleFilled';\r\nimport MyModel from './AIModel';\r\n\r\nconst minPlayers = 1\r\n\r\nconst marks = [\r\n    {\r\n      value: -1,\r\n      label: 'Refuser',\r\n    },\r\n    {\r\n        value: -0.5,\r\n        label: 'Plutôt refuser',\r\n    },\r\n    {\r\n        value: 0,\r\n        label: 'Aucune idée',\r\n    },\r\n    {\r\n        value: 0.5,\r\n        label: 'Plutôt accepter',\r\n    },\r\n    {\r\n      value: 1,\r\n      label: 'Accepter',\r\n    }\r\n]\r\n\r\nasync function initializeModel() {\r\n    await MyModel.loadFeatureExtractor();\r\n    MyModel.loadModel();\r\n}\r\n\r\nasync function trainModel(images: string[], labels: number[]) {\r\n    let imgs = await Promise.all(images.map(async image => await createImageElement(image)))\r\n    if (MyModel.model && MyModel.featureExtractor) {\r\n        await MyModel.trainModel(imgs, labels);\r\n    } else {\r\n        throw new Error('Model or feature extractor not loaded');\r\n    }\r\n}\r\n\r\nasync function predictImage(image: string) {\r\n    let img = await createImageElement(image)\r\n    if (MyModel.model && MyModel.featureExtractor) {\r\n        return MyModel.predictImage(img);\r\n    } else {\r\n        throw new Error('Model or feature extractor not loaded');\r\n    }\r\n}\r\n\r\nfunction createImageElement(imageUrl: string): Promise<HTMLImageElement> {\r\n    return new Promise((resolve, reject) => {\r\n        let img = new Image();\r\n        img.src = imageUrl;\r\n        img.onload = () => resolve(img);  // Resolve the promise when the image is loaded\r\n        img.onerror = reject;  // Reject the promise if there is an error\r\n    });\r\n}\r\n\r\ntype GameBoardProps = {\r\n    socket: Socket\r\n    pseudo: string\r\n    room: string\r\n    roomData: RoomData\r\n    callbackLeaveRoom: () => void\r\n}\r\n  \r\nfunction GameBoard({socket, pseudo, room, roomData, callbackLeaveRoom}: GameBoardProps) {\r\n\r\n    const [timer, setTimer] = useState<number>(0)\r\n    const [timerKey, setTimerKey] = useState<number>(0)\r\n    const [waitOnCreator, setWaitOnCreator] = useState(false)\r\n    const [currentImage, setCurrentImage] = useState('')\r\n    const [votingDisabled, setVotingDisabled] = useState(true)\r\n    const [acceptedImages, setAcceptedImages] = useState<string[]>([])\r\n    const [refusedImages, setRefusedImages] = useState<string[]>([])\r\n    const [allImages, setAllImages] = useState<string[]>([])\r\n    const [allLabels, setAllLabels] = useState<string[]>([])\r\n    const [vote, setVote] = useState<number>(0)\r\n\r\n    const [isPointsModalOpen, setIsPointsModalOpen] = useState(false)\r\n    const [modalPoints, setModalPoints] = useState(0)\r\n\r\n    const isRoomCreator = roomData ? pseudo === roomData.creator : false\r\n    const isAutoRun = roomData ? roomData.autoRun : false\r\n\r\n    const handleClickStartGame = () => {\r\n        socket.emit('startGame', room)\r\n    }\r\n\r\n    const handleClickRevealRule = () => {\r\n        socket.emit('endGame', room)\r\n    }\r\n\r\n    const handleClickPause = () => {\r\n        socket.emit('pause', room)\r\n    }\r\n\r\n    const handleDecisionChange = (_event: any, newValue: number | number[]) => {\r\n        setVote(newValue as number)\r\n    }\r\n\r\n    const handleClickAccept = () => handleClickVote(1)\r\n    const handleClickRefuse = () => handleClickVote(-1)\r\n\r\n    const handleClickVote = (vote: number) => {\r\n        socket.emit('vote', room, pseudo, vote)\r\n        setVotingDisabled(true)\r\n    }\r\n\r\n    const leaveRoom = () => {\r\n        socket.emit('leaveRoom', room, pseudo)\r\n        callbackLeaveRoom()\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isRoomCreator && roomData.hasAI) {\r\n            initializeModel()\r\n            .then(() => console.log('Model initialized'))\r\n            .catch((error) => console.error('Error initializing model:', error));\r\n        }\r\n    }, [isRoomCreator, roomData.hasAI])\r\n\r\n    useEffect(() => {\r\n        const onNewRound = async (image: string) => {\r\n            setCurrentImage(image)\r\n\r\n            setAllImages(current => [...current, image])\r\n\r\n            setVotingDisabled(false)\r\n\r\n            setWaitOnCreator(false)\r\n\r\n            setTimerKey(prevTimerKey => prevTimerKey + 1)\r\n\r\n            if (isRoomCreator && roomData.autoRun) {\r\n                const creatorVote = roomData.acceptedImages.includes(image) ? 1 : -1\r\n                socket.emit('vote', room, pseudo, creatorVote)\r\n            }\r\n\r\n            if (isRoomCreator && roomData.hasAI && (acceptedImages.length > 0 || refusedImages.length > 0)) {\r\n                let trainingImages = acceptedImages.concat(refusedImages)\r\n                let trainingLabels = Array(acceptedImages.length).fill(1).concat(Array(refusedImages.length).fill(0))\r\n                try {\r\n                    await trainModel(trainingImages, trainingLabels)\r\n                    console.log(\"The model is trained with \" + trainingImages.length + \" samples\")\r\n\r\n                    const prediction = await predictImage(image)\r\n                    console.log(\"The prediction is \" + prediction)\r\n                    let aiVote = (prediction[1] - 0.5) * 2\r\n                    aiVote = Number(aiVote.toFixed(2))\r\n                    socket.emit('vote', room, \"Eleus-IA\", aiVote)\r\n                } catch (error) {\r\n                    console.error(\"Error training the model: \", error)\r\n                }\r\n            }\r\n        }\r\n\r\n        socket.on('newRound', onNewRound)\r\n        return () => {socket.off('newRound', onNewRound)}\r\n    }, [acceptedImages, isRoomCreator, pseudo, refusedImages, room, roomData.acceptedImages, roomData.autoRun, roomData.hasAI, socket])\r\n\r\n    useEffect(() => {\r\n        const onTimer = (timer: number) => {\r\n            if (!waitOnCreator) {\r\n                setTimer(timer)\r\n            }\r\n        }\r\n        socket.on('timer', onTimer)\r\n        return () => {socket.off('timer', onTimer)}\r\n    }, [socket, waitOnCreator])\r\n\r\n    useEffect(() => {\r\n        const onWaitCreator = () => {\r\n            setWaitOnCreator(true)\r\n        }\r\n        socket.on('waitCreator', onWaitCreator)\r\n        return () => {socket.off('waitCreator', onWaitCreator)}\r\n    }, [socket])\r\n\r\n    useEffect(()=>{\r\n        const onEndOfRound = (usersPoints: {[pseudo: string]: number}, creatorVote: number) => {\r\n            let label\r\n            if (creatorVote > 0) {\r\n                setAcceptedImages([...acceptedImages, currentImage])\r\n                label = \"Accepté\"\r\n            } else {\r\n                setRefusedImages([...refusedImages, currentImage])\r\n                label = \"Refusé\"\r\n            }\r\n\r\n            setCurrentImage('')\r\n            setAllLabels(current => [...current, label])\r\n            \r\n            if (!isRoomCreator) {\r\n                setModalPoints(usersPoints[pseudo])\r\n                setIsPointsModalOpen(true)\r\n            }\r\n        }\r\n        socket.on('endOfRound', onEndOfRound)\r\n        return () => {socket.off('endOfRound', onEndOfRound)}\r\n    }, [acceptedImages, currentImage, isRoomCreator, pseudo, refusedImages, socket])\r\n\r\n    return (\r\n        <>\r\n        <Grid container justifyContent=\"space-evenly\" alignContent=\"flex-start\" alignItems=\"center\" spacing={2}>\r\n            <Grid item textAlign=\"center\" xs={12}>\r\n                <Button variant=\"outlined\" color=\"error\" endIcon={<LogoutIcon />} onClick={leaveRoom} style={{ position: \"absolute\", left: 20 }}>\r\n                    Quitter la partie\r\n                </Button>\r\n                <Typography variant=\"h3\">Room {room}</Typography>\r\n            </Grid>\r\n            <Grid container item textAlign=\"center\" xs={8} spacing={2}>\r\n                <Grid container item justifyContent=\"space-evenly\" alignItems=\"center\" spacing={2} xs={12}>\r\n                    <Grid item textAlign=\"center\" xs={6}>\r\n                        <Typography variant=\"h6\">Images refusées par le maître</Typography>\r\n                        <Paper sx={{ height: 200 }} elevation={3}>\r\n                            <ImagesContainer images={refusedImages} category={\"Refusé\"} />\r\n                        </Paper>\r\n                    </Grid>\r\n                    <Grid item textAlign=\"center\" xs={6}>\r\n                        <Typography variant=\"h6\">Images acceptées par le maître</Typography>\r\n                        <Paper sx={{ height: 200 }} elevation={3}>\r\n                            <ImagesContainer images={acceptedImages} category={\"Accepté\"} />\r\n                        </Paper>\r\n                    </Grid>\r\n                </Grid>\r\n                <Grid container item alignItems=\"center\" justifyContent=\"center\" xs={12}>\r\n                    <Box sx={{ height: 200 }}>\r\n                        {currentImage ? <MuiImage src={currentImage} duration={1000} height={200} /> : null}\r\n                    </Box>\r\n                </Grid>\r\n                <Grid container item textAlign=\"center\" alignItems=\"center\" xs={12}>\r\n                    {isRoomCreator\r\n                        ? (\r\n                            isAutoRun\r\n                                ? (\r\n                                    <Grid item textAlign=\"center\" xs={12}>\r\n                                        <Typography variant=\"h5\">{roomData.hasStarted ? \"Les labels sont déjà prêts !\" : \"Vous n'avez plus qu'à démarrer la partie quand vous êtes prêt !\"}</Typography>\r\n                                    </Grid>\r\n                                )\r\n                                : roomData.hasStarted && (\r\n                                    <>\r\n                                        <Grid item textAlign=\"center\" xs={6}>\r\n                                            <Button variant=\"contained\" onClick={handleClickRefuse} disabled={votingDisabled}>Refuser</Button>\r\n                                        </Grid><Grid item textAlign=\"center\" xs={6}>\r\n                                            <Button variant=\"contained\" onClick={handleClickAccept} disabled={votingDisabled}>Accepter</Button>\r\n                                        </Grid>\r\n                                    </>\r\n                                )\r\n                        )\r\n                        : roomData.hasStarted \r\n                            ? (\r\n                                <>\r\n                                    <Grid item textAlign=\"center\" xs={12}>\r\n                                        <Slider sx={{ width: 1/2 }}defaultValue={0} aria-label=\"Default\" valueLabelDisplay=\"auto\" step={0.1} min={-1} max={1} marks={marks} onChange={handleDecisionChange} />\r\n                                    </Grid>\r\n                                    <Grid item textAlign=\"center\" xs={12}>\r\n                                        <Button variant=\"contained\" onClick={() => handleClickVote(vote)} disabled={votingDisabled || timer <= 0}>Confirmer</Button>\r\n                                    </Grid>\r\n                                </>\r\n                            )\r\n                            : (\r\n                                <Grid item textAlign=\"center\" xs={12}>\r\n                                    <Typography variant=\"h5\">Le maître du jeu n'a pas encore démarré la partie !</Typography>\r\n                                </Grid>\r\n                            )\r\n                    }\r\n                </Grid>\r\n            </Grid>\r\n            <Grid item alignSelf=\"flex-start\" xs={4}>\r\n                <Stack alignItems=\"center\" justifyContent=\"flex-start\" spacing={2}>\r\n                    <Timer key={timerKey} roundDuration={roomData.roundDuration} isPlaying={roomData.hasStarted && !roomData.hasFinished && !roomData.paused} />\r\n                    {!isRoomCreator && <Typography variant=\"h6\">{'Score: ' + (roomData && roomData.users[pseudo] ? roomData.users[pseudo].totalScore : 0)}</Typography>}\r\n                    <Box sx={{ border: 1, m: 5, marginBottom: 2 }}>\r\n                        {roomData ? <UsersTable roomData={roomData} pseudo={pseudo} /> : null}\r\n                    </Box>\r\n                    {isRoomCreator && !roomData.hasStarted ?\r\n                        <Button variant=\"contained\" onClick={handleClickStartGame} disabled={Object.keys(roomData.users).length < minPlayers}>Démarrer la partie</Button>\r\n                        : null}\r\n                    {isRoomCreator && roomData.hasStarted && !roomData.hasFinished ?\r\n                        <Stack direction=\"row\" spacing={2}>\r\n                            <Button startIcon={!roomData.paused ? <PauseIcon/> : <PlayCircleFilledIcon/>} variant=\"outlined\" onClick={handleClickPause}>{!roomData.paused ? \"Pause\" : \"Reprendre\"}</Button>\r\n                            <Button variant=\"contained\" color=\"error\" onClick={handleClickRevealRule}>Révéler la règle</Button>\r\n                        </Stack>\r\n                        : null}\r\n                </Stack>\r\n            </Grid>\r\n        </Grid>\r\n        {!isRoomCreator && <PointsModal open={isPointsModalOpen} handleClose={() => setIsPointsModalOpen(false)} points={modalPoints} />}\r\n        <EndOfGameModal open={roomData.hasFinished} rule={roomData.rule} users={roomData.users} pseudo={pseudo} creatorPseudo={roomData.creator} images={allImages} labels={allLabels} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default GameBoard\r\n"],"mappings":"AAAA,OAASA,GAAG,CAAEC,IAAI,CAAEC,KAAK,CAAEC,MAAM,CAAEC,KAAK,CAAEC,UAAU,KAAQ,eAAe,CAC3E,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,OAAQC,KAAK,GAAI,CAAAC,QAAQ,KAAO,WAAW,CAC3C,MAAO,CAAAC,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,SAAS,KAAQ,OAAO,CAGjC,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAC/C,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,WAAW,KAAM,sBAAsB,CAC9C,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,cAAc,KAAM,yBAAyB,CACpD,MAAO,CAAAC,UAAU,KAAM,4BAA4B,CACnD,MAAO,CAAAC,SAAS,KAAM,2BAA2B,CACjD,MAAO,CAAAC,oBAAoB,KAAM,sCAAsC,CACvE,MAAO,CAAAC,OAAO,KAAM,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEhC,KAAM,CAAAC,UAAU,CAAG,CAAC,CAEpB,KAAM,CAAAC,KAAK,CAAG,CACV,CACEC,KAAK,CAAE,CAAC,CAAC,CACTC,KAAK,CAAE,SACT,CAAC,CACD,CACID,KAAK,CAAE,CAAC,GAAG,CACXC,KAAK,CAAE,gBACX,CAAC,CACD,CACID,KAAK,CAAE,CAAC,CACRC,KAAK,CAAE,aACX,CAAC,CACD,CACID,KAAK,CAAE,GAAG,CACVC,KAAK,CAAE,iBACX,CAAC,CACD,CACED,KAAK,CAAE,CAAC,CACRC,KAAK,CAAE,UACT,CAAC,CACJ,CAED,cAAe,CAAAC,eAAeA,CAAA,CAAG,CAC7B,KAAM,CAAAX,OAAO,CAACY,oBAAoB,EAAE,CACpCZ,OAAO,CAACa,SAAS,EAAE,CACvB,CAEA,cAAe,CAAAC,UAAUA,CAACC,MAAgB,CAAEC,MAAgB,CAAE,CAC1D,GAAI,CAAAC,IAAI,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAACJ,MAAM,CAACK,GAAG,CAAC,KAAM,CAAAC,KAAK,EAAI,KAAM,CAAAC,kBAAkB,CAACD,KAAK,CAAC,CAAC,CAAC,CACxF,GAAIrB,OAAO,CAACuB,KAAK,EAAIvB,OAAO,CAACwB,gBAAgB,CAAE,CAC3C,KAAM,CAAAxB,OAAO,CAACc,UAAU,CAACG,IAAI,CAAED,MAAM,CAAC,CAC1C,CAAC,IAAM,CACH,KAAM,IAAI,CAAAS,KAAK,CAAC,uCAAuC,CAAC,CAC5D,CACJ,CAEA,cAAe,CAAAC,YAAYA,CAACL,KAAa,CAAE,CACvC,GAAI,CAAAM,GAAG,CAAG,KAAM,CAAAL,kBAAkB,CAACD,KAAK,CAAC,CACzC,GAAIrB,OAAO,CAACuB,KAAK,EAAIvB,OAAO,CAACwB,gBAAgB,CAAE,CAC3C,MAAO,CAAAxB,OAAO,CAAC0B,YAAY,CAACC,GAAG,CAAC,CACpC,CAAC,IAAM,CACH,KAAM,IAAI,CAAAF,KAAK,CAAC,uCAAuC,CAAC,CAC5D,CACJ,CAEA,QAAS,CAAAH,kBAAkBA,CAACM,QAAgB,CAA6B,CACrE,MAAO,IAAI,CAAAV,OAAO,CAAC,CAACW,OAAO,CAAEC,MAAM,GAAK,CACpC,GAAI,CAAAH,GAAG,CAAG,GAAI,CAAAxC,KAAK,EAAE,CACrBwC,GAAG,CAACI,GAAG,CAAGH,QAAQ,CAClBD,GAAG,CAACK,MAAM,CAAG,IAAMH,OAAO,CAACF,GAAG,CAAC,CAAG;AAClCA,GAAG,CAACM,OAAO,CAAGH,MAAM,CAAG;AAC3B,CAAC,CAAC,CACN,CAUA,QAAS,CAAAI,SAASA,CAAAC,IAAA,CAAsE,IAArE,CAACC,MAAM,CAAEC,MAAM,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,iBAAiC,CAAC,CAAAL,IAAA,CAElF,KAAM,CAACM,KAAK,CAAEC,QAAQ,CAAC,CAAGpD,QAAQ,CAAS,CAAC,CAAC,CAC7C,KAAM,CAACqD,QAAQ,CAAEC,WAAW,CAAC,CAAGtD,QAAQ,CAAS,CAAC,CAAC,CACnD,KAAM,CAACuD,aAAa,CAAEC,gBAAgB,CAAC,CAAGxD,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAACyD,YAAY,CAAEC,eAAe,CAAC,CAAG1D,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAC2D,cAAc,CAAEC,iBAAiB,CAAC,CAAG5D,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAAC6D,cAAc,CAAEC,iBAAiB,CAAC,CAAG9D,QAAQ,CAAW,EAAE,CAAC,CAClE,KAAM,CAAC+D,aAAa,CAAEC,gBAAgB,CAAC,CAAGhE,QAAQ,CAAW,EAAE,CAAC,CAChE,KAAM,CAACiE,SAAS,CAAEC,YAAY,CAAC,CAAGlE,QAAQ,CAAW,EAAE,CAAC,CACxD,KAAM,CAACmE,SAAS,CAAEC,YAAY,CAAC,CAAGpE,QAAQ,CAAW,EAAE,CAAC,CACxD,KAAM,CAACqE,IAAI,CAAEC,OAAO,CAAC,CAAGtE,QAAQ,CAAS,CAAC,CAAC,CAE3C,KAAM,CAACuE,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGxE,QAAQ,CAAC,KAAK,CAAC,CACjE,KAAM,CAACyE,WAAW,CAAEC,cAAc,CAAC,CAAG1E,QAAQ,CAAC,CAAC,CAAC,CAEjD,KAAM,CAAA2E,aAAa,CAAG1B,QAAQ,CAAGF,MAAM,GAAKE,QAAQ,CAAC2B,OAAO,CAAG,KAAK,CACpE,KAAM,CAAAC,SAAS,CAAG5B,QAAQ,CAAGA,QAAQ,CAAC6B,OAAO,CAAG,KAAK,CAErD,KAAM,CAAAC,oBAAoB,CAAGA,CAAA,GAAM,CAC/BjC,MAAM,CAACkC,IAAI,CAAC,WAAW,CAAEhC,IAAI,CAAC,CAClC,CAAC,CAED,KAAM,CAAAiC,qBAAqB,CAAGA,CAAA,GAAM,CAChCnC,MAAM,CAACkC,IAAI,CAAC,SAAS,CAAEhC,IAAI,CAAC,CAChC,CAAC,CAED,KAAM,CAAAkC,gBAAgB,CAAGA,CAAA,GAAM,CAC3BpC,MAAM,CAACkC,IAAI,CAAC,OAAO,CAAEhC,IAAI,CAAC,CAC9B,CAAC,CAED,KAAM,CAAAmC,oBAAoB,CAAGA,CAACC,MAAW,CAAEC,QAA2B,GAAK,CACvEf,OAAO,CAACe,QAAQ,CAAW,CAC/B,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAMC,eAAe,CAAC,CAAC,CAAC,CAClD,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAMD,eAAe,CAAC,CAAC,CAAC,CAAC,CAEnD,KAAM,CAAAA,eAAe,CAAIlB,IAAY,EAAK,CACtCvB,MAAM,CAACkC,IAAI,CAAC,MAAM,CAAEhC,IAAI,CAAED,MAAM,CAAEsB,IAAI,CAAC,CACvCT,iBAAiB,CAAC,IAAI,CAAC,CAC3B,CAAC,CAED,KAAM,CAAA6B,SAAS,CAAGA,CAAA,GAAM,CACpB3C,MAAM,CAACkC,IAAI,CAAC,WAAW,CAAEhC,IAAI,CAAED,MAAM,CAAC,CACtCG,iBAAiB,EAAE,CACvB,CAAC,CAEDjD,SAAS,CAAC,IAAM,CACZ,GAAI0E,aAAa,EAAI1B,QAAQ,CAACyC,KAAK,CAAE,CACjCrE,eAAe,EAAE,CAChBsE,IAAI,CAAC,IAAMC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,CAAC,CAC5CC,KAAK,CAAEC,KAAK,EAAKH,OAAO,CAACG,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CAAC,CACxE,CACJ,CAAC,CAAE,CAACpB,aAAa,CAAE1B,QAAQ,CAACyC,KAAK,CAAC,CAAC,CAEnCzF,SAAS,CAAC,IAAM,CACZ,KAAM,CAAA+F,UAAU,CAAG,KAAO,CAAAjE,KAAa,EAAK,CACxC2B,eAAe,CAAC3B,KAAK,CAAC,CAEtBmC,YAAY,CAAC+B,OAAO,EAAI,CAAC,GAAGA,OAAO,CAAElE,KAAK,CAAC,CAAC,CAE5C6B,iBAAiB,CAAC,KAAK,CAAC,CAExBJ,gBAAgB,CAAC,KAAK,CAAC,CAEvBF,WAAW,CAAC4C,YAAY,EAAIA,YAAY,CAAG,CAAC,CAAC,CAE7C,GAAIvB,aAAa,EAAI1B,QAAQ,CAAC6B,OAAO,CAAE,CACnC,KAAM,CAAAqB,WAAW,CAAGlD,QAAQ,CAACY,cAAc,CAACuC,QAAQ,CAACrE,KAAK,CAAC,CAAG,CAAC,CAAG,CAAC,CAAC,CACpEe,MAAM,CAACkC,IAAI,CAAC,MAAM,CAAEhC,IAAI,CAAED,MAAM,CAAEoD,WAAW,CAAC,CAClD,CAEA,GAAIxB,aAAa,EAAI1B,QAAQ,CAACyC,KAAK,GAAK7B,cAAc,CAACwC,MAAM,CAAG,CAAC,EAAItC,aAAa,CAACsC,MAAM,CAAG,CAAC,CAAC,CAAE,CAC5F,GAAI,CAAAC,cAAc,CAAGzC,cAAc,CAAC0C,MAAM,CAACxC,aAAa,CAAC,CACzD,GAAI,CAAAyC,cAAc,CAAGC,KAAK,CAAC5C,cAAc,CAACwC,MAAM,CAAC,CAACK,IAAI,CAAC,CAAC,CAAC,CAACH,MAAM,CAACE,KAAK,CAAC1C,aAAa,CAACsC,MAAM,CAAC,CAACK,IAAI,CAAC,CAAC,CAAC,CAAC,CACrG,GAAI,CACA,KAAM,CAAAlF,UAAU,CAAC8E,cAAc,CAAEE,cAAc,CAAC,CAChDZ,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAGS,cAAc,CAACD,MAAM,CAAG,UAAU,CAAC,CAE9E,KAAM,CAAAM,UAAU,CAAG,KAAM,CAAAvE,YAAY,CAACL,KAAK,CAAC,CAC5C6D,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAGc,UAAU,CAAC,CAC9C,GAAI,CAAAC,MAAM,CAAG,CAACD,UAAU,CAAC,CAAC,CAAC,CAAG,GAAG,EAAI,CAAC,CACtCC,MAAM,CAAGC,MAAM,CAACD,MAAM,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC,CAClChE,MAAM,CAACkC,IAAI,CAAC,MAAM,CAAEhC,IAAI,CAAE,UAAU,CAAE4D,MAAM,CAAC,CACjD,CAAE,MAAOb,KAAK,CAAE,CACZH,OAAO,CAACG,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACtD,CACJ,CACJ,CAAC,CAEDjD,MAAM,CAACiE,EAAE,CAAC,UAAU,CAAEf,UAAU,CAAC,CACjC,MAAO,IAAM,CAAClD,MAAM,CAACkE,GAAG,CAAC,UAAU,CAAEhB,UAAU,CAAC,EAAC,CACrD,CAAC,CAAE,CAACnC,cAAc,CAAEc,aAAa,CAAE5B,MAAM,CAAEgB,aAAa,CAAEf,IAAI,CAAEC,QAAQ,CAACY,cAAc,CAAEZ,QAAQ,CAAC6B,OAAO,CAAE7B,QAAQ,CAACyC,KAAK,CAAE5C,MAAM,CAAC,CAAC,CAEnI7C,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAgH,OAAO,CAAI9D,KAAa,EAAK,CAC/B,GAAI,CAACI,aAAa,CAAE,CAChBH,QAAQ,CAACD,KAAK,CAAC,CACnB,CACJ,CAAC,CACDL,MAAM,CAACiE,EAAE,CAAC,OAAO,CAAEE,OAAO,CAAC,CAC3B,MAAO,IAAM,CAACnE,MAAM,CAACkE,GAAG,CAAC,OAAO,CAAEC,OAAO,CAAC,EAAC,CAC/C,CAAC,CAAE,CAACnE,MAAM,CAAES,aAAa,CAAC,CAAC,CAE3BtD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAiH,aAAa,CAAGA,CAAA,GAAM,CACxB1D,gBAAgB,CAAC,IAAI,CAAC,CAC1B,CAAC,CACDV,MAAM,CAACiE,EAAE,CAAC,aAAa,CAAEG,aAAa,CAAC,CACvC,MAAO,IAAM,CAACpE,MAAM,CAACkE,GAAG,CAAC,aAAa,CAAEE,aAAa,CAAC,EAAC,CAC3D,CAAC,CAAE,CAACpE,MAAM,CAAC,CAAC,CAEZ7C,SAAS,CAAC,IAAI,CACV,KAAM,CAAAkH,YAAY,CAAGA,CAACC,WAAuC,CAAEjB,WAAmB,GAAK,CACnF,GAAI,CAAA/E,KAAK,CACT,GAAI+E,WAAW,CAAG,CAAC,CAAE,CACjBrC,iBAAiB,CAAC,CAAC,GAAGD,cAAc,CAAEJ,YAAY,CAAC,CAAC,CACpDrC,KAAK,CAAG,SAAS,CACrB,CAAC,IAAM,CACH4C,gBAAgB,CAAC,CAAC,GAAGD,aAAa,CAAEN,YAAY,CAAC,CAAC,CAClDrC,KAAK,CAAG,QAAQ,CACpB,CAEAsC,eAAe,CAAC,EAAE,CAAC,CACnBU,YAAY,CAAC6B,OAAO,EAAI,CAAC,GAAGA,OAAO,CAAE7E,KAAK,CAAC,CAAC,CAE5C,GAAI,CAACuD,aAAa,CAAE,CAChBD,cAAc,CAAC0C,WAAW,CAACrE,MAAM,CAAC,CAAC,CACnCyB,oBAAoB,CAAC,IAAI,CAAC,CAC9B,CACJ,CAAC,CACD1B,MAAM,CAACiE,EAAE,CAAC,YAAY,CAAEI,YAAY,CAAC,CACrC,MAAO,IAAM,CAACrE,MAAM,CAACkE,GAAG,CAAC,YAAY,CAAEG,YAAY,CAAC,EAAC,CACzD,CAAC,CAAE,CAACtD,cAAc,CAAEJ,YAAY,CAAEkB,aAAa,CAAE5B,MAAM,CAAEgB,aAAa,CAAEjB,MAAM,CAAC,CAAC,CAEhF,mBACIhC,KAAA,CAAAE,SAAA,EAAAqG,QAAA,eACAvG,KAAA,CAACvB,IAAI,EAAC+H,SAAS,MAACC,cAAc,CAAC,cAAc,CAACC,YAAY,CAAC,YAAY,CAACC,UAAU,CAAC,QAAQ,CAACC,OAAO,CAAE,CAAE,CAAAL,QAAA,eACnGvG,KAAA,CAACvB,IAAI,EAACoI,IAAI,MAACC,SAAS,CAAC,QAAQ,CAACC,EAAE,CAAE,EAAG,CAAAR,QAAA,eACjCzG,IAAA,CAAChB,MAAM,EAACkI,OAAO,CAAC,UAAU,CAACC,KAAK,CAAC,OAAO,CAACC,OAAO,cAAEpH,IAAA,CAACL,UAAU,IAAI,CAAC0H,OAAO,CAAExC,SAAU,CAACyC,KAAK,CAAE,CAAEC,QAAQ,CAAE,UAAU,CAAEC,IAAI,CAAE,EAAG,CAAE,CAAAf,QAAA,CAAC,mBAEjI,EAAS,cACTvG,KAAA,CAACnB,UAAU,EAACmI,OAAO,CAAC,IAAI,CAAAT,QAAA,EAAC,OAAK,CAACrE,IAAI,GAAc,GAC9C,cACPlC,KAAA,CAACvB,IAAI,EAAC+H,SAAS,MAACK,IAAI,MAACC,SAAS,CAAC,QAAQ,CAACC,EAAE,CAAE,CAAE,CAACH,OAAO,CAAE,CAAE,CAAAL,QAAA,eACtDvG,KAAA,CAACvB,IAAI,EAAC+H,SAAS,MAACK,IAAI,MAACJ,cAAc,CAAC,cAAc,CAACE,UAAU,CAAC,QAAQ,CAACC,OAAO,CAAE,CAAE,CAACG,EAAE,CAAE,EAAG,CAAAR,QAAA,eACtFvG,KAAA,CAACvB,IAAI,EAACoI,IAAI,MAACC,SAAS,CAAC,QAAQ,CAACC,EAAE,CAAE,CAAE,CAAAR,QAAA,eAChCzG,IAAA,CAACjB,UAAU,EAACmI,OAAO,CAAC,IAAI,CAAAT,QAAA,CAAC,qCAA6B,EAAa,cACnEzG,IAAA,CAACpB,KAAK,EAAC6I,EAAE,CAAE,CAAEC,MAAM,CAAE,GAAI,CAAE,CAACC,SAAS,CAAE,CAAE,CAAAlB,QAAA,cACrCzG,IAAA,CAACV,eAAe,EAACuB,MAAM,CAAEsC,aAAc,CAACyE,QAAQ,CAAE,QAAS,EAAG,EAC1D,GACL,cACP1H,KAAA,CAACvB,IAAI,EAACoI,IAAI,MAACC,SAAS,CAAC,QAAQ,CAACC,EAAE,CAAE,CAAE,CAAAR,QAAA,eAChCzG,IAAA,CAACjB,UAAU,EAACmI,OAAO,CAAC,IAAI,CAAAT,QAAA,CAAC,sCAA8B,EAAa,cACpEzG,IAAA,CAACpB,KAAK,EAAC6I,EAAE,CAAE,CAAEC,MAAM,CAAE,GAAI,CAAE,CAACC,SAAS,CAAE,CAAE,CAAAlB,QAAA,cACrCzG,IAAA,CAACV,eAAe,EAACuB,MAAM,CAAEoC,cAAe,CAAC2E,QAAQ,CAAE,SAAU,EAAG,EAC5D,GACL,GACJ,cACP5H,IAAA,CAACrB,IAAI,EAAC+H,SAAS,MAACK,IAAI,MAACF,UAAU,CAAC,QAAQ,CAACF,cAAc,CAAC,QAAQ,CAACM,EAAE,CAAE,EAAG,CAAAR,QAAA,cACpEzG,IAAA,CAACtB,GAAG,EAAC+I,EAAE,CAAE,CAAEC,MAAM,CAAE,GAAI,CAAE,CAAAjB,QAAA,CACpB5D,YAAY,cAAG7C,IAAA,CAACd,QAAQ,EAAC2C,GAAG,CAAEgB,YAAa,CAACgF,QAAQ,CAAE,IAAK,CAACH,MAAM,CAAE,GAAI,EAAG,CAAG,IAAI,EACjF,EACH,cACP1H,IAAA,CAACrB,IAAI,EAAC+H,SAAS,MAACK,IAAI,MAACC,SAAS,CAAC,QAAQ,CAACH,UAAU,CAAC,QAAQ,CAACI,EAAE,CAAE,EAAG,CAAAR,QAAA,CAC9D1C,aAAa,CAENE,SAAS,cAEDjE,IAAA,CAACrB,IAAI,EAACoI,IAAI,MAACC,SAAS,CAAC,QAAQ,CAACC,EAAE,CAAE,EAAG,CAAAR,QAAA,cACjCzG,IAAA,CAACjB,UAAU,EAACmI,OAAO,CAAC,IAAI,CAAAT,QAAA,CAAEpE,QAAQ,CAACyF,UAAU,CAAG,8BAA8B,CAAG,iEAAiE,EAAc,EAC7J,CAETzF,QAAQ,CAACyF,UAAU,eACjB5H,KAAA,CAAAE,SAAA,EAAAqG,QAAA,eACIzG,IAAA,CAACrB,IAAI,EAACoI,IAAI,MAACC,SAAS,CAAC,QAAQ,CAACC,EAAE,CAAE,CAAE,CAAAR,QAAA,cAChCzG,IAAA,CAAChB,MAAM,EAACkI,OAAO,CAAC,WAAW,CAACG,OAAO,CAAEzC,iBAAkB,CAACmD,QAAQ,CAAEhF,cAAe,CAAA0D,QAAA,CAAC,SAAO,EAAS,EAC/F,cAAAzG,IAAA,CAACrB,IAAI,EAACoI,IAAI,MAACC,SAAS,CAAC,QAAQ,CAACC,EAAE,CAAE,CAAE,CAAAR,QAAA,cACvCzG,IAAA,CAAChB,MAAM,EAACkI,OAAO,CAAC,WAAW,CAACG,OAAO,CAAE3C,iBAAkB,CAACqD,QAAQ,CAAEhF,cAAe,CAAA0D,QAAA,CAAC,UAAQ,EAAS,EAChG,GAEd,CAEPpE,QAAQ,CAACyF,UAAU,cAEb5H,KAAA,CAAAE,SAAA,EAAAqG,QAAA,eACIzG,IAAA,CAACrB,IAAI,EAACoI,IAAI,MAACC,SAAS,CAAC,QAAQ,CAACC,EAAE,CAAE,EAAG,CAAAR,QAAA,cACjCzG,IAAA,CAACnB,MAAM,EAAC4I,EAAE,CAAE,CAAEO,KAAK,CAAE,CAAC,CAAC,CAAE,CAAE,CAAAC,YAAY,CAAE,CAAE,CAAC,aAAW,SAAS,CAACC,iBAAiB,CAAC,MAAM,CAACC,IAAI,CAAE,GAAI,CAACC,GAAG,CAAE,CAAC,CAAE,CAACC,GAAG,CAAE,CAAE,CAAC/H,KAAK,CAAEA,KAAM,CAACgI,QAAQ,CAAE/D,oBAAqB,EAAG,EACnK,cACPvE,IAAA,CAACrB,IAAI,EAACoI,IAAI,MAACC,SAAS,CAAC,QAAQ,CAACC,EAAE,CAAE,EAAG,CAAAR,QAAA,cACjCzG,IAAA,CAAChB,MAAM,EAACkI,OAAO,CAAC,WAAW,CAACG,OAAO,CAAEA,CAAA,GAAM1C,eAAe,CAAClB,IAAI,CAAE,CAACsE,QAAQ,CAAEhF,cAAc,EAAIR,KAAK,EAAI,CAAE,CAAAkE,QAAA,CAAC,WAAS,EAAS,EACzH,GACR,cAGHzG,IAAA,CAACrB,IAAI,EAACoI,IAAI,MAACC,SAAS,CAAC,QAAQ,CAACC,EAAE,CAAE,EAAG,CAAAR,QAAA,cACjCzG,IAAA,CAACjB,UAAU,EAACmI,OAAO,CAAC,IAAI,CAAAT,QAAA,CAAC,8DAAmD,EAAa,EAEhG,EAEN,GACJ,cACPzG,IAAA,CAACrB,IAAI,EAACoI,IAAI,MAACwB,SAAS,CAAC,YAAY,CAACtB,EAAE,CAAE,CAAE,CAAAR,QAAA,cACpCvG,KAAA,CAACpB,KAAK,EAAC+H,UAAU,CAAC,QAAQ,CAACF,cAAc,CAAC,YAAY,CAACG,OAAO,CAAE,CAAE,CAAAL,QAAA,eAC9DzG,IAAA,CAACP,KAAK,EAAgB+I,aAAa,CAAEnG,QAAQ,CAACmG,aAAc,CAACC,SAAS,CAAEpG,QAAQ,CAACyF,UAAU,EAAI,CAACzF,QAAQ,CAACqG,WAAW,EAAI,CAACrG,QAAQ,CAACsG,MAAO,EAA7HlG,QAAQ,CAAwH,CAC3I,CAACsB,aAAa,eAAI/D,IAAA,CAACjB,UAAU,EAACmI,OAAO,CAAC,IAAI,CAAAT,QAAA,CAAE,SAAS,EAAIpE,QAAQ,EAAIA,QAAQ,CAACuG,KAAK,CAACzG,MAAM,CAAC,CAAGE,QAAQ,CAACuG,KAAK,CAACzG,MAAM,CAAC,CAAC0G,UAAU,CAAG,CAAC,CAAC,EAAc,cACnJ7I,IAAA,CAACtB,GAAG,EAAC+I,EAAE,CAAE,CAAEqB,MAAM,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,CAAEC,YAAY,CAAE,CAAE,CAAE,CAAAvC,QAAA,CACzCpE,QAAQ,cAAGrC,IAAA,CAACT,UAAU,EAAC8C,QAAQ,CAAEA,QAAS,CAACF,MAAM,CAAEA,MAAO,EAAG,CAAG,IAAI,EACnE,CACL4B,aAAa,EAAI,CAAC1B,QAAQ,CAACyF,UAAU,cAClC9H,IAAA,CAAChB,MAAM,EAACkI,OAAO,CAAC,WAAW,CAACG,OAAO,CAAElD,oBAAqB,CAAC4D,QAAQ,CAAEkB,MAAM,CAACC,IAAI,CAAC7G,QAAQ,CAACuG,KAAK,CAAC,CAACnD,MAAM,CAAGpF,UAAW,CAAAoG,QAAA,CAAC,uBAAkB,EAAS,CAC/I,IAAI,CACT1C,aAAa,EAAI1B,QAAQ,CAACyF,UAAU,EAAI,CAACzF,QAAQ,CAACqG,WAAW,cAC1DxI,KAAA,CAACpB,KAAK,EAACqK,SAAS,CAAC,KAAK,CAACrC,OAAO,CAAE,CAAE,CAAAL,QAAA,eAC9BzG,IAAA,CAAChB,MAAM,EAACoK,SAAS,CAAE,CAAC/G,QAAQ,CAACsG,MAAM,cAAG3I,IAAA,CAACJ,SAAS,IAAE,cAAGI,IAAA,CAACH,oBAAoB,IAAG,CAACqH,OAAO,CAAC,UAAU,CAACG,OAAO,CAAE/C,gBAAiB,CAAAmC,QAAA,CAAE,CAACpE,QAAQ,CAACsG,MAAM,CAAG,OAAO,CAAG,WAAW,EAAU,cAC/K3I,IAAA,CAAChB,MAAM,EAACkI,OAAO,CAAC,WAAW,CAACC,KAAK,CAAC,OAAO,CAACE,OAAO,CAAEhD,qBAAsB,CAAAoC,QAAA,CAAC,2BAAgB,EAAS,GAC/F,CACN,IAAI,GACN,EACL,GACJ,CACN,CAAC1C,aAAa,eAAI/D,IAAA,CAACR,WAAW,EAAC6J,IAAI,CAAE1F,iBAAkB,CAAC2F,WAAW,CAAEA,CAAA,GAAM1F,oBAAoB,CAAC,KAAK,CAAE,CAAC2F,MAAM,CAAE1F,WAAY,EAAG,cAChI7D,IAAA,CAACN,cAAc,EAAC2J,IAAI,CAAEhH,QAAQ,CAACqG,WAAY,CAACc,IAAI,CAAEnH,QAAQ,CAACmH,IAAK,CAACZ,KAAK,CAAEvG,QAAQ,CAACuG,KAAM,CAACzG,MAAM,CAAEA,MAAO,CAACsH,aAAa,CAAEpH,QAAQ,CAAC2B,OAAQ,CAACnD,MAAM,CAAEwC,SAAU,CAACvC,MAAM,CAAEyC,SAAU,EAAG,GAC9K,CAEX,CAEA,cAAe,CAAAvB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}