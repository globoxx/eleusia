[{"C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\index.tsx":"1","C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\App.tsx":"2","C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\GameBoard.tsx":"3","C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\Home.tsx":"4","C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\UsersTable.tsx":"5","C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\ImagesContainer.tsx":"6","C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\Timer.tsx":"7","C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\TransferImage.tsx":"8","C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\HelpTooltip.tsx":"9","C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\Modals\\RulesModal.tsx":"10","C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\Modals\\PointsModal.tsx":"11","C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\Modals\\EndOfGameModal.tsx":"12","C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\ScoreChart.tsx":"13","C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\AIModel.tsx":"14"},{"size":281,"mtime":1679154289792,"results":"15","hashOfConfig":"16"},{"size":2115,"mtime":1714553230314,"results":"17","hashOfConfig":"16"},{"size":13870,"mtime":1714554584377,"results":"18","hashOfConfig":"16"},{"size":12595,"mtime":1714558240014,"results":"19","hashOfConfig":"16"},{"size":2340,"mtime":1705438681725,"results":"20","hashOfConfig":"16"},{"size":811,"mtime":1685958580889,"results":"21","hashOfConfig":"16"},{"size":1907,"mtime":1680807404567,"results":"22","hashOfConfig":"16"},{"size":5681,"mtime":1684860074858,"results":"23","hashOfConfig":"16"},{"size":357,"mtime":1683833471082,"results":"24","hashOfConfig":"16"},{"size":4557,"mtime":1714556853517,"results":"25","hashOfConfig":"16"},{"size":1999,"mtime":1714553895475,"results":"26","hashOfConfig":"16"},{"size":2449,"mtime":1714561613807,"results":"27","hashOfConfig":"16"},{"size":8256,"mtime":1714561393807,"results":"28","hashOfConfig":"16"},{"size":3323,"mtime":1712663311593,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"19mbejs",{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42"},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\index.tsx",[],[],"C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\App.tsx",[],[],"C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\GameBoard.tsx",[],[],"C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\Home.tsx",["73"],[],"import React, { useCallback, useEffect, useState } from 'react'\r\nimport { TextField, Button, Grid, Accordion, AccordionSummary, AccordionDetails, MenuItem, Select, ImageList, ImageListItem, Box, Typography, Stack, IconButton, Tooltip, Switch, FormControlLabel } from '@mui/material'\r\nimport { Socket } from 'socket.io-client'\r\nimport { ExpandMoreOutlined, FileDownloadOutlined } from '@mui/icons-material'\r\nimport TransferImage from './TransferImage'\r\nimport HelpTooltip from './HelpTooltip'\r\nimport MenuBookIcon from '@mui/icons-material/MenuBook';\r\nimport RulesModal from './Modals/RulesModal'\r\n\r\nfunction Home({ socket, callbackPseudoChange, callbackRoomChange, callbackJoinRoom }: { socket: Socket, callbackPseudoChange: (e: React.ChangeEvent<HTMLInputElement>) => void, callbackRoomChange: (e: React.ChangeEvent<HTMLInputElement>) => void, callbackJoinRoom: (room: string) => void }) {\r\n    const [rooms, setRooms] = useState<string[]>([])\r\n    const [pseudo, setPseudo] = useState('')\r\n    const [room, setRoom] = useState('')\r\n\r\n    const [allImages, setAllImages] = useState<{ [folder: string]: string[] }>({})\r\n    const [left, setLeft] = useState<string[]>([])\r\n    const [right, setRight] = useState<string[]>([])\r\n\r\n    const [newRoom, setNewRoom] = useState('')\r\n    const [newRoomRoundDuration, setNewRoomRoundDuration] = useState('')\r\n    const [newRoomImageSet, setNewRoomImageSet] = useState('')\r\n    const [newRoomRule, setNewRoomRule] = useState('')\r\n    const [labelsSwitchChecked, setLabelsSwitchChecked] = useState(false)\r\n    const [AISwitchChecked, setAISwitchChecked] = useState(false)\r\n\r\n    const [isRulesModalOpen, setIsRulesModalOpen] = useState(false)\r\n\r\n    const selectedImages = newRoomImageSet && allImages[newRoomImageSet] ? allImages[newRoomImageSet] : []\r\n\r\n    const handlePseudoChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        callbackPseudoChange(e)\r\n        setPseudo(e.target.value)\r\n    }\r\n    const handleRoomChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        callbackRoomChange(e)\r\n        setRoom(e.target.value)\r\n    }\r\n\r\n    const handleLabelsSwitchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setLabelsSwitchChecked(event.target.checked)\r\n    }\r\n\r\n    const handleAISwitchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setAISwitchChecked(event.target.checked)\r\n    }\r\n\r\n    const callbackLabels = useCallback((newLeft: string[], newRight: string[]) => {\r\n        setLeft(newLeft)\r\n        setRight(newRight)\r\n    }, [])\r\n\r\n    const handleClickJoinRoom = () => {\r\n        if (pseudo && room) {\r\n            if (rooms.includes(room)) {\r\n                socket.emit('joinRoom', room, pseudo)\r\n                callbackJoinRoom(room)\r\n            } else {\r\n                alert('Cette room n\\'existe pas ou a déjà commencé.')\r\n            }\r\n        } else {\r\n            alert('Choisissez un pseudo et un numéro de room à rejoindre.')\r\n        }\r\n    }\r\n    const handleClickCreateRoom = () => {\r\n        socket.emit('createRoom', pseudo, newRoom, parseInt(newRoomRoundDuration), newRoomImageSet, newRoomRule, labelsSwitchChecked, AISwitchChecked, left, right)\r\n        callbackJoinRoom(newRoom)\r\n    }\r\n\r\n    const downloadImages = (newRoomImageSet: string) => {\r\n        fetch('/images_to_download/' + newRoomImageSet + '.zip').then(response => {\r\n            response.blob().then(blob => {\r\n                // Creating new object of PDF file\r\n                const fileURL = window.URL.createObjectURL(blob)\r\n                // Setting various property values\r\n                let alink = document.createElement('a')\r\n                alink.href = fileURL\r\n                alink.download = 'images.zip'\r\n                alink.click()\r\n            })\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        socket.on('updateRooms', (rooms: string[]) => {\r\n            setRooms(rooms)\r\n        })\r\n\r\n        socket.on('updateImages', (allImages: { [folder: string]: string[] }) => {\r\n            setAllImages(allImages)\r\n        })\r\n\r\n        socket.on('roomAlreadyExists', () => {\r\n            alert('Ce numéro de room existe déjà.')\r\n        })\r\n\r\n        socket.on('pseudoAlreadyExists', () => {\r\n            alert('Ce pseudo existe déjà dans cette room.')\r\n        })\r\n    }, [socket])\r\n\r\n    return (\r\n        <>\r\n        <Grid container justifyContent=\"center\" spacing={5}>\r\n            <Grid item textAlign=\"center\" xs={12}>\r\n                <Button variant=\"contained\" color=\"success\" endIcon={<MenuBookIcon />} onClick={() => setIsRulesModalOpen(true)} style={{ position: \"absolute\", left: 20 }}>\r\n                    Règles du jeu\r\n                </Button>\r\n                <Typography variant=\"h3\">ELEUS-IA</Typography>\r\n                <Typography variant=\"h5\">Dans la peau d'une intelligence artificielle</Typography>\r\n            </Grid>\r\n            <Grid item textAlign=\"center\" xs={12}>\r\n                <TextField required label=\"Pseudo\" value={pseudo} onChange={handlePseudoChange} variant=\"outlined\" />\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n                <Accordion>\r\n                    <AccordionSummary expandIcon={<ExpandMoreOutlined />} sx={{ backgroundColor: 'lightblue' }}>\r\n                        <Stack direction=\"row\" alignItems=\"center\">\r\n                            <Typography variant=\"h6\">Rejoindre une room</Typography>\r\n                            <HelpTooltip title=\"Si vous ne connaissez pas le numéro de la room, demandez à son créateur de vous le communiquer.\" />\r\n                        </Stack>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n                        <Stack spacing={2}>\r\n                            <TextField label=\"Room code\" value={room} onChange={handleRoomChange} variant=\"outlined\" />\r\n                            <Button variant=\"contained\" disabled={pseudo.length === 0 || room.length === 0} onClick={handleClickJoinRoom}>Rejoindre la room !</Button>\r\n                        </Stack>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n                <Accordion>\r\n                    <AccordionSummary expandIcon={<ExpandMoreOutlined />} sx={{ backgroundColor: 'lightblue' }}>\r\n                        <Stack direction=\"row\" alignItems=\"center\">\r\n                            <Typography variant=\"h6\">Créer une nouvelle room</Typography>\r\n                            <HelpTooltip title=\"Vous serez le maître de la room créée. Vous pourrez choisir le jeu de données, les labels ainsi que la configuration de la partie.\" />\r\n                        </Stack>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n                        <Stack spacing={2}>\r\n                            <TextField required label=\"Room code\" value={newRoom} onChange={(e) => setNewRoom(e.target.value)} variant=\"outlined\" fullWidth />\r\n                            <Select\r\n                                value={newRoomRoundDuration}\r\n                                displayEmpty\r\n                                fullWidth\r\n                                onChange={(e) => setNewRoomRoundDuration(e.target.value)}\r\n                            >\r\n                                <MenuItem value={''} selected>Sélectionne le temps offert pour chaque prédiction</MenuItem>\r\n                                <MenuItem value={'10'}>Très court (10 secondes)</MenuItem>\r\n                                <MenuItem value={'15'}>Court (15 secondes)</MenuItem>\r\n                                <MenuItem value={'20'}>Moyen (20 secondes)</MenuItem>\r\n                                <MenuItem value={'30'}>Long (30 secondes)</MenuItem>\r\n                            </Select>\r\n                            <Stack direction=\"row\" justifyContent=\"space-between\" spacing={2}>\r\n                                <Select\r\n                                    value={newRoomImageSet}\r\n                                    displayEmpty\r\n                                    fullWidth\r\n                                    onChange={(e) => setNewRoomImageSet(e.target.value)}\r\n                                >\r\n                                    <MenuItem value={''} selected>Sélectionne un ensemble d'images</MenuItem>\r\n                                    <MenuItem value={'cards'}>Cartes</MenuItem>\r\n                                    <MenuItem value={'shapes'}>Formes</MenuItem>\r\n                                    <MenuItem value={'faces'}>Visages</MenuItem>\r\n                                    <MenuItem value={'cars'}>Voitures</MenuItem>\r\n                                    <MenuItem value={'animals'}>Animaux</MenuItem>\r\n                                    <MenuItem value={'abstract'}>Art abstrait</MenuItem>\r\n                                    <MenuItem value={'objects'}>Objets</MenuItem>\r\n                                    <MenuItem value={'words'}>Mots</MenuItem>\r\n                                </Select>\r\n                                <Tooltip title=\"Télécharger\">\r\n                                    <IconButton color=\"primary\" onClick={() => downloadImages(newRoomImageSet)} disabled={newRoomImageSet.length === 0}><FileDownloadOutlined /></IconButton>\r\n                                </Tooltip>\r\n                            </Stack>\r\n                            {newRoomImageSet &&\r\n                                <Box sx={{ maxHeight: 200, overflow: 'auto' }}>\r\n                                    <ImageList variant=\"masonry\" cols={8}>\r\n                                        {selectedImages.slice(0, 50).map((item: string) => (\r\n                                            <ImageListItem key={item}>\r\n                                                <img\r\n                                                    src={`${item}?w=50&fit=crop&auto=format`}\r\n                                                    srcSet={`${item}?w=50&fit=crop&auto=format&dpr=2 2x`}\r\n                                                    alt={item}\r\n                                                    loading=\"lazy\" />\r\n                                            </ImageListItem>\r\n                                        ))}\r\n                                    </ImageList>\r\n                                </Box>\r\n                            }\r\n                            <Stack direction=\"row\" alignItems=\"center\">\r\n                                <FormControlLabel control={<Switch checked={labelsSwitchChecked} onChange={handleLabelsSwitchChange} inputProps={{ 'aria-label': 'controlled' }} />} label=\"Préparer les labels à l'avance\" />\r\n                                <HelpTooltip title=\"Cocher cette option permet de définir les labels à l'avance. Cela vous permet de ne pas avoir à catégoriser les images en cours de partie.\" />\r\n                            </Stack>\r\n                            <TransferImage key={newRoomImageSet} visible={labelsSwitchChecked} imagesList={selectedImages} callback={callbackLabels} />\r\n                            <Stack direction=\"row\" alignItems=\"center\">\r\n                                <FormControlLabel control={<Switch checked={AISwitchChecked} onChange={handleAISwitchChange} inputProps={{ 'aria-label': 'controlled' }} />} label=\"Ajouter une IA comme joueur (beta)\" />\r\n                                <HelpTooltip title=\"Cocher cette option va ajouter une IA à la liste des joueurs. Elle va s'entraîner à chaque image et faire ses prédictions comme tout autre joueur. Le modèle est un MobileNet-V3-small pré-entrainé identique à celui de Teachable Machine de Google.\" />\r\n                            </Stack>\r\n                            <TextField required label=\"Règle d'acceptation\" multiline value={newRoomRule} onChange={(e) => setNewRoomRule(e.target.value)} variant=\"outlined\" fullWidth />\r\n                            <Button sx={{ marginTop: 2 }} variant=\"contained\" disabled={pseudo.length == 0 || newRoom.length === 0 || newRoomImageSet.length === 0 || newRoomRoundDuration.length === 0 || newRoomRule.length === 0 || (labelsSwitchChecked && (left.length === 0 || right.length === 0))} onClick={handleClickCreateRoom}>{labelsSwitchChecked ? 'Préparer la room !' : 'Créer la room et superviser !'}</Button>\r\n                        </Stack>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </Grid>\r\n        </Grid>\r\n        <RulesModal open={isRulesModalOpen} handleClose={() => setIsRulesModalOpen(false)} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Home","C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\UsersTable.tsx",[],[],"C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\ImagesContainer.tsx",[],[],"C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\Timer.tsx",[],[],"C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\TransferImage.tsx",[],[],"C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\HelpTooltip.tsx",[],[],"C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\Modals\\RulesModal.tsx",[],[],"C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\Modals\\PointsModal.tsx",[],[],"C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\Modals\\EndOfGameModal.tsx",[],[],"C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\ScoreChart.tsx",["74"],[],"C:\\Users\\vince\\OneDrive\\Documents\\GitHub\\eleusia\\src\\components\\AIModel.tsx",[],[],{"ruleId":"75","severity":1,"message":"76","line":199,"column":103,"nodeType":"77","messageId":"78","endLine":199,"endColumn":105},{"ruleId":"79","severity":1,"message":"80","line":54,"column":8,"nodeType":"81","endLine":54,"endColumn":10,"suggestions":"82"},"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'scores'. Either include it or remove the dependency array. If 'setInitialScores' needs the current value of 'scores', you can also switch to useReducer instead of useState and read 'scores' in the reducer.","ArrayExpression",["83"],{"desc":"84","fix":"85"},"Update the dependencies array to be: [scores]",{"range":"86","text":"87"},[1624,1626],"[scores]"]